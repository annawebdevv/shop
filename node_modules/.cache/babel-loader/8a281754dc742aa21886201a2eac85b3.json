{"ast":null,"code":"import _objectSpread from\"/Users/user/Documents/\\u041D\\u043E\\u0432\\u0430\\u044F \\u043F\\u0430\\u043F\\u043A\\u0430/shop/shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ReactComponent as Logo}from\"./../../../utils/next.svg\";import{ReactComponent as Dots}from\"./../../../utils/dots.svg\";import{useContext}from\"react\";import{ProductsContext}from\"../../../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Pagination=function Pagination(_ref){var pages=_ref.pages,refetch=_ref.refetch;var _useContext=useContext(ProductsContext),state=_useContext.state,setState=_useContext.setState;var oneThree=state.currentPage<=3;var threeToLast=state.currentPage>3&&state.currentPage<pages[pages.length-1];var threeLast=state.currentPage>pages[pages.length-3];var notFirst3=threeToLast||threeLast;var changePage=function changePage(p){if(state.currentPage!==p){setState(_objectSpread(_objectSpread({},state),{},{currentPage:p}));refetch();}};var nextPage=function nextPage(){if(state.currentPage!==pages[pages.length])setState(_objectSpread(_objectSpread({},state),{},{currentPage:state.currentPage+1}));};var prevPage=function prevPage(){if(state.currentPage!==pages[0])setState(_objectSpread(_objectSpread({},state),{},{currentPage:state.currentPage-1}));};var res=[];if(oneThree){res=pages.filter(function(el,i,arr){return el<=4;});}if(threeToLast){res=pages.filter(function(el,i,arr){return el===state.currentPage-1||el===state.currentPage||el===state.currentPage+1;});}if(threeLast){res=pages.filter(function(el,i,arr){return el>pages[pages.length-4];});}return/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(Logo,{className:\"prev outline button_pagination\",onClick:prevPage}),notFirst3&&/*#__PURE__*/_jsx(\"button\",{className:[\"button_pagination\",state.currentPage===pages[0]?\"primary\":\"outline\"].join(\" \"),onClick:function onClick(){return changePage(pages[0]);},children:pages[0]}),notFirst3&&/*#__PURE__*/_jsx(Dots,{className:\"next  button_pagination\"}),res.map(function(p){return/*#__PURE__*/_jsx(\"button\",{className:[\"button_pagination\",state.currentPage===p?\"primary\":\"outline\"].join(\" \"),onClick:function onClick(){return changePage(p);},children:p},p);}),!threeLast&&/*#__PURE__*/_jsx(Dots,{className:\"next button_pagination\"}),!threeLast&&/*#__PURE__*/_jsx(\"button\",{className:[\"button_pagination\",state.currentPage===pages[pages.length-1]?\"primary\":\"outline\"].join(\" \"),onClick:function onClick(){return changePage(pages[pages.length-1]);},children:pages[pages.length-1]}),/*#__PURE__*/_jsx(Logo,{className:\"next outline button_pagination\",onClick:nextPage})]});};","map":{"version":3,"names":["ReactComponent","Logo","Dots","useContext","ProductsContext","Pagination","pages","refetch","state","setState","oneThree","currentPage","threeToLast","length","threeLast","notFirst3","changePage","p","nextPage","prevPage","res","filter","el","i","arr","join","map"],"sources":["/Users/user/Documents/Новая папка/shop/shop/src/components/Body/Products/Pagination.jsx"],"sourcesContent":["import { ReactComponent as Logo } from \"./../../../utils/next.svg\";\nimport { ReactComponent as Dots } from \"./../../../utils/dots.svg\";\nimport { useContext } from \"react\";\nimport { ProductsContext } from \"../../../App\";\n\nexport const Pagination = ({ pages, refetch }) => {\n  const {state, setState} = useContext(ProductsContext)\n  \n  const oneThree = state.currentPage <= 3;\n  const threeToLast = state.currentPage > 3 && state.currentPage < pages[pages.length - 1];\n  const threeLast = state.currentPage > pages[pages.length - 3];\n  const notFirst3 = threeToLast || threeLast;\n\n  const changePage = (p) => {\n    if (state.currentPage !== p) {\n      setState({...state, currentPage: p});\n      refetch();\n    }\n  };\n\n  const nextPage = () => {\n    if (state.currentPage !== pages[pages.length]) setState({...state, currentPage: state.currentPage+1}) \n  }\n\n  const prevPage = () => {\n    if (state.currentPage !== pages[0]) setState({...state, currentPage: state.currentPage-1}) \n  };\n  \n  let res = [];\n\n  if (oneThree) {\n    res = pages.filter((el, i, arr) => el <= 4);\n  }\n  if (threeToLast) {\n    res = pages.filter(\n      (el, i, arr) =>\n        el === state.currentPage - 1 || el === state.currentPage || el === state.currentPage + 1\n    );\n  }\n  if (threeLast) {\n    res = pages.filter((el, i, arr) => el > pages[pages.length - 4]);\n  }\n\n  return (\n    <div className=\"pagination\">\n      <Logo className=\"prev outline button_pagination\" onClick={prevPage} />\n\n      {notFirst3 && (\n        <button\n          className={[\n            \"button_pagination\",\n            state.currentPage === pages[0] ? \"primary\" : \"outline\",\n          ].join(\" \")}\n          onClick={() => changePage(pages[0])}>\n          {pages[0]}\n        </button>\n      )}\n\n      {notFirst3 && <Dots className=\"next  button_pagination\" />}\n\n      {res.map((p) => (\n        <button\n          className={[\n            \"button_pagination\",\n            state.currentPage === p ? \"primary\" : \"outline\",\n          ].join(\" \")}\n          key={p}\n          onClick={() => changePage(p)}>\n          {p}\n        </button>\n      ))}\n\n      {!threeLast && <Dots className=\"next button_pagination\" />}\n\n      {!threeLast && (\n        <button\n          className={[\n            \"button_pagination\",\n            state.currentPage === pages[pages.length - 1] ? \"primary\" : \"outline\",\n          ].join(\" \")}\n          onClick={() => changePage(pages[pages.length - 1])}>\n          {pages[pages.length - 1]}\n        </button>\n      )}\n\n      <Logo className=\"next outline button_pagination\" onClick={nextPage} />\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}